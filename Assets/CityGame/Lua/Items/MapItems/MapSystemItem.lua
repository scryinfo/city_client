---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by xuyafang.
--- DateTime: 2019/2/27 18:13
---Small map system building
MapSystemItem = class('MapSystemItem', MapBubbleBase)

--Initialization method
function MapSystemItem:_childInit()
    self.btn = self.viewRect.transform:Find("bubble/btn"):GetComponent("Button")
    self.iconImg = self.viewRect.transform:Find("bubble/btn/bg/protaitImg"):GetComponent("Image")
    self.detailShowImg = self.viewRect.transform:Find("detailShowImg"):GetComponent("Image")  --Display size when the lens is zoomed in
    self.detailShowBtn = self.viewRect.transform:Find("detailShowImg"):GetComponent("Button")
    self.scaleRoot = self.viewRect.transform:Find("bubble")  --Need to zoom bubbles
    self.Text01 = self.viewRect.transform:Find("bubble/Text"):GetComponent("Text")

    self.btn.onClick:AddListener(function ()
        PlayMusEff(1002)
        self:_clickFunc()
    end)
    self.detailShowBtn.onClick:AddListener(function ()
        PlayMusEff(1002)
        self:_clickFunc()
    end)
    self:_language()
    --LoadSprite(data.disSelectIconPath, self.iconImg, true)
end
--
function MapSystemItem:resetState()
    self.detailShowImg.enabled = false
    self.scaleRoot.localScale = Vector3.one
    self:_language()
end
--
function MapSystemItem:_clickFunc()
    if self.data == nil then
        return
    end
    --MapCtrl._toggleShowRightRoot(true)
    Event.Brocast("c_MapSelectSystemPage", self)
end
--Set display building size
function MapSystemItem:toggleShowDetailImg(show)
    if self.detailShowImg == nil then
        return
    end
    if show == true then
        self.detailShowImg.enabled = true
    else
        self.detailShowImg.enabled = false
    end
end
--
function MapSystemItem:_language()
    self.Text01.text = GetLanguage(20010001)
end