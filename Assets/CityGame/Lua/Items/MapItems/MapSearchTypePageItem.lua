---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by xuyafang.
--- DateTime: 2019/2/27 18:13
---小地图搜索类型
MapSearchTypePageItem = class('MapSearchTypePageItem', MapSearchTypeItemBase)

--选中了类型中的某一个
function MapSearchTypePageItem:refreshShow(isSelect)
    if isSelect == true then
        if self.isSelect == false then
            self.selectFunc()  --由未选中变为选中状态
        end
        self.pageOpenImg.localScale = Vector3.one
    else
        self.pageOpenImg.localScale = Vector3.zero
    end
    --self.loadBtnTran.transform.localScale = Vector3.one
    self.isSelect = isSelect
end
--点击事件
function MapSearchTypePageItem:_clickFunc()
    if self.isSelect == true then
        --Event.Brocast("c_MapCloseDetailPage", self.data.typeId, false)  --关闭右侧界面
    else
        self.isOpenState = true
        self.pageOpenImg.localScale = Vector3.one
        Event.Brocast("c_MapSearchSelectType", self.data.typeId)  --播报事件，选中自己
        Event.Brocast("c_MapCloseDetailPage", self.data.typeId, self.isOpenState)  --关闭右侧界面
        return
    end

    --展开右侧或者关闭右侧
    self.isOpenState = not self.isOpenState
    if self.isOpenState == true then
        self.pageOpenImg.localScale = Vector3.one
    else
        self.pageOpenImg.localScale = Vector3.zero
    end
    Event.Brocast("c_MapCloseDetailPage", self.data.typeId, self.isOpenState)  --关闭右侧界面
end
--
function MapSearchTypePageItem:setShowName(str)
    if str ~= nil and str ~= "" then
        self.chooseShowNameText.text = str
    end
    if str == nil then
        self:_language()
    end
end
--
function MapSearchTypePageItem:chooseTypeDetail(typeId, showStr)
    if typeId == self.data.typeId and showStr ~= nil then
        self.chooseShowNameText.text = showStr
        self.choose.localScale = Vector3.one
        self.disChoose.localScale = Vector3.zero
    else
        self.choose.localScale = Vector3.zero
        self.disChoose.localScale = Vector3.one
        self:_language()
    end
end