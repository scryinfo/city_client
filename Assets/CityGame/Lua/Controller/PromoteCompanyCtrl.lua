---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2019/3/29 10:28
---推广公司ctrl
PromoteCompanyCtrl = class('PromoteCompanyCtrl',UIPanel)
UIPanel:ResgisterOpen(PromoteCompanyCtrl)

local promoteBehaviour

function PromoteCompanyCtrl:bundleName()
    return "Assets/CityGame/Resources/View/PromoteCompanyPanel.prefab"
end

function PromoteCompanyCtrl:initialize()
    UIPanel.initialize(self,UIType.Normal,UIMode.HideOther,UICollider.None)--可以回退，UI打开后，隐藏其它面板
    --UIPanel.initialize(self,UIType.PopUp,UIMode.NeedBack,UICollider.None)--可以回退，UI打开后，不隐藏其它的UI
end
function PromoteCompanyCtrl:Awake()
    promoteBehaviour = self.gameObject:GetComponent('LuaBehaviour')
    --curveBehaviour:AddClick(HistoryCurvePanel.xBtn,self.OnBack,self)
    --self.insId = OpenModelInsID.PromoteCompanyCtrl
    self:initData() 
end

function PromoteCompanyCtrl:Active()
    UIPanel.Active(self)
    Event.AddListener("c_Revenue",self.c_Revenue,self)
end

function PromoteCompanyCtrl:Refresh()
    if self.groupMgr == nil then
        self.groupMgr = BuildingInfoMainGroupMgr:new(PromoteCompanyPanel.groupTrans, promoteBehaviour)
        self.groupMgr:AddParts(AdvertisementPart, 0.29)
        self.groupMgr:AddParts(TurnoverPart, 0.23)
        --self.groupMgr:RefreshData(self.m_data)
        self.groupMgr:TurnOffAllOptions()
    else
        --self.groupMgr:RefreshData(self.m_data)
    end
end

function PromoteCompanyCtrl:Hide()
    UIPanel.Hide(self)
    Event.RemoveListener("c_Revenue",self.c_Revenue,self)
    if self.groupMgr ~= nil then
        self.groupMgr:Destroy()
        self.groupMgr = nil
    end
end

function PromoteCompanyCtrl:OnCreate(obj)
    UIPanel.OnCreate(self,obj)
end

function PromoteCompanyCtrl:initData()


end

--今日营业额
function TurnoverPart:c_Revenue(info)
    self.groupMgr:RefreshData(info)
end
