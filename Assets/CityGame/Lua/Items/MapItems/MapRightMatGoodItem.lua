---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by xuyafang.
--- DateTime: 2019/2/27 18:13
---Small map search type -- right side interface
MapRightMatGoodItem = class('MapRightMatGoodItem')

--Initialization method
function MapRightMatGoodItem:initialize(viewRect)
    self.viewRect = viewRect.transform
    self.iconImg = self.viewRect:Find("iconImg"):GetComponent("Image")
    self.numberText = self.viewRect:Find("numberBg/numberText"):GetComponent("Text")
    self.nameBg = self.viewRect:Find("nameBg")
    self.nameText = self.viewRect:Find("nameBg/nameText"):GetComponent("Text")

    --Need to hide product information
    self.goods = self.viewRect:Find("goods")
    self.levelImg = self.viewRect:Find("goods/levelImg"):GetComponent("Image")
    self.brandNameText = self.viewRect:Find("goods/detailsBg/brandNameText"):GetComponent("Text")
    self.brandValue = self.viewRect:Find("goods/detailsBg/scoreBg/brandIcon/brandValue"):GetComponent("Text")
    self.qualityValue = self.viewRect:Find("goods/detailsBg/scoreBg/qualityIcon/qualityValue"):GetComponent("Text")
    self.priceText = self.viewRect:Find("priceBg/priceText"):GetComponent("Text")

    self:resetState()
end
--Reset state
function MapRightMatGoodItem:resetState()
    self:_language()
end
--multi-language
function MapRightMatGoodItem:_language()

end
--This script asked Xiaomeng, I copied it directly
function MapRightMatGoodItem:refreshData(data)
    if data == nil then
        return
    end
    self.data = data
    local itemId = data.item.key.id
    self.numberText.text = "Ã—"..data.item.n
    self.priceText.text = GetClientPriceString(data.price)
    local tempSprite = SpriteManager.GetSpriteByPool(itemId)
    self.iconImg.sprite = tempSprite

    local materialKey, goodsKey = 21,22
    if tonumber(string.sub(itemId,1,2)) == materialKey then
        self.goods.transform.localScale = Vector3.zero
        self.nameBg.transform.localPosition = Vector3(-140, -100, 0)
        --LoadSprite(Material[itemId].img, self.iconImg,false)
        self.nameText.text = GetLanguage(Material[itemId].name)

    elseif tonumber(string.sub(itemId,1,2)) == goodsKey then
        self.goods.transform.localScale = Vector3.one
        --LoadSprite(Good[itemId].img, self.iconImg,false)
        self.nameText.text = GetLanguage(Good[itemId].name)
        self.brandNameText.text = data.item.key.brandName
        self.brandValue.text = data.item.key.brandScore
        self.qualityValue.text = data.item.key.qualityScore
    end
end

function MapRightMatGoodItem:getIsSelect()
    return self.isSelect
end