---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Tina.
--- DateTime: 2019/2/26 15:33
---

GuildMessageModel = class("GuildMessageModel", ModelBase)

function GuildMessageModel:initialize(insId)
    self.insId = insId
    self:OnCreate()
end

function GuildMessageModel:OnCreate()
    -- 网络回调注册
    DataManager.ModelRegisterNetMsg(nil,"gscode.OpCode","noticeAdd","gs.SocietyNotice", self.n_MessageAdd, self)
    DataManager.ModelRegisterNetMsg(nil,"gscode.OpCode","exitSociety","gs.ByteBool", self.n_ExitSociety, self)
    DataManager.ModelRegisterNetMsg(nil,"gscode.OpCode","delJoinReq","gs.JoinReq", self.n_DelJoinReq, self)
    DataManager.ModelRegisterNetMsg(nil,"gscode.OpCode","newJoinReq","gs.JoinReq", self.n_NewJoinReq, self)
end

function GuildMessageModel.Close()

end

-- 新增提示
function GuildMessageModel:n_MessageAdd(societyNotice)
    Event.Brocast("c_MessageAdd", societyNotice)
end

-- 退出公会
function GuildMessageModel:m_ExitSocietye(id)
    DataManager.ModelSendNetMes("gscode.OpCode", "exitSociety","gs.Id",id)
end

-- 退出公会返回
function GuildMessageModel:n_ExitSociety(byteBool)
    Event.Brocast("c_ExitSociety", byteBool)
end

-- 删除已处理的入会请求
function GuildMessageModel:n_DelJoinReq(joinReq)
    Event.Brocast("c_MessageDelJoinReq", joinReq)
end

-- 新增入会请求
function GuildMessageModel:n_NewJoinReq(joinReq)
    Event.Brocast("c_MessageNewJoinReq", joinReq)
end