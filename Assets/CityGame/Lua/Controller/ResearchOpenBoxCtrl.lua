---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Tina.
--- DateTime: 2019/7/25 14:58
---

ResearchOpenBoxCtrl = class("ResearchOpenBoxCtrl", UIPanel)
ResearchOpenBoxCtrl:ResgisterOpen(ResearchOpenBoxCtrl)

function ResearchOpenBoxCtrl:initialize()
    UIPanel.initialize(self, UIType.PopUp, UIMode.DoNothing, UICollider.None)
end

function ResearchOpenBoxCtrl:bundleName()
    return "Assets/CityGame/Resources/View/ResearchOpenBoxPanel.prefab"
end

function ResearchOpenBoxCtrl:OnCreate(obj)
    UIPanel.OnCreate(self, obj)
end

function ResearchOpenBoxCtrl:Awake(go)
    local luaBehaviour = self.gameObject:GetComponent("LuaBehaviour")

    luaBehaviour:AddClick(ResearchUsePanel.backBtn, self.OnBack, self)
    luaBehaviour:AddClick(ResearchUsePanel.openBtn, self.OnOpen, self)
end

function ResearchOpenBoxCtrl:Active()
    UIPanel.Active(self)
end

function ResearchOpenBoxCtrl:Refresh()
    self:_updateData()
end

function ResearchOpenBoxCtrl:Hide()
    UIPanel.Hide(self)
end

-- 初始化基本数据
function ResearchOpenBoxCtrl:_updateData()
    -- 根据useType生成不用的效果
end
-------------------------------------按钮点击事件-------------------------------------
function ResearchOpenBoxCtrl:OnBack(go)
    PlayMusEff(1002)
    UIPanel.ClosePage()
end

function ResearchOpenBoxCtrl:OnOpen(go)
    PlayMusEff(1002)
    -- 调用ResearchInstituteModel，向服务器发送使用宝箱消息

    UIPanel.ClosePage()
end