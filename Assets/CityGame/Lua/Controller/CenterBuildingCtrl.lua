---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2019/1/14 14:59
---Center building ctrl

CenterBuildingCtrl = class('CenterBuildingCtrl',UIPanel)
UIPanel:ResgisterOpen(CenterBuildingCtrl)

local centerBuildingBehaviour;

function  CenterBuildingCtrl:bundleName()
    return "Assets/CityGame/Resources/View/CenterBuildingPanel.prefab"
end

function CenterBuildingCtrl:initialize()
    UIPanel.initialize(self,UIType.PopUp,UIMode.NeedBack,UICollider.None)--Can go back, after the UI is opened, other UI is not hidden
end

function CenterBuildingCtrl:OnCreate(obj)
    UIPanel.OnCreate(self,obj)

end

function CenterBuildingCtrl:Awake()
    centerBuildingBehaviour = self.gameObject:GetComponent('LuaBehaviour');
    centerBuildingBehaviour:AddClick(CenterBuildingPanel.bg,self.OnBg,self)
    centerBuildingBehaviour:AddClick(CenterBuildingPanel.flight,self.OnFlight,self)  --Flight forecast
    centerBuildingBehaviour:AddClick(CenterBuildingPanel.btn,self.OnBtn,self)   --City transaction
end

function CenterBuildingCtrl:Active()
    UIPanel.Active(self)
    CenterBuildingPanel.name.text = GetLanguage(11040001)
    CenterBuildingPanel.contentText.text = GetLanguage(11040002)
    CenterBuildingPanel.btnText.text = GetLanguage(11030003)
    CenterBuildingPanel.nameText.text = GetLanguage(11030004)
    CenterBuildingPanel.join.text = GetLanguage(11030005)
    CenterBuildingPanel.staytuned.text = GetLanguage(11030006)
end

function CenterBuildingCtrl:Hide()
    UIPanel.Hide(self)
end

function CenterBuildingCtrl:OnBg()
    PlayMusEff(1002)
    UIPanel.ClosePage();
end

--Click Flight Forecast
function CenterBuildingCtrl:OnFlight()
    PlayMusEff(1002)
    ct.OpenCtrl("FlightMainCtrl")
end

--Click City Trading
function CenterBuildingCtrl:OnBtn()
    PlayMusEff(1002)
    ct.OpenCtrl("CityInfoCtrl")
end
