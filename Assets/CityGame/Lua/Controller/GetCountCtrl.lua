---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2019/7/27 15:38
--- Get points interface
GetCountCtrl = class('GetCountCtrl',UIPanel)
UIPanel:ResgisterOpen(GetCountCtrl)

local getCountBehaviour
function GetCountCtrl:bundleName()
    return "Assets/CityGame/Resources/View/GetCountPanel.prefab"
end

function GetCountCtrl:initialize()
    --UIPanel.initialize(self,UIType.Normal,UIMode.HideOther,UICollider.None)--You can go back and hide other panels after the UI opens
    UIPanel.initialize(self,UIType.PopUp,UIMode.NeedBack,UICollider.None)--Can go back, after the UI is opened, other UI is not hidden
end

function GetCountCtrl:Awake(obj)
    self:_getComponent(obj)
    getCountBehaviour = self.gameObject:GetComponent('LuaBehaviour')
    getCountBehaviour:AddClick(self.btn,self.OnBtn,self)
end

function GetCountCtrl:Active()
    UIPanel.Active(self)
    LoadSprite(GetSprite("UsePoint"), self.title, true)
end

function GetCountCtrl:Refresh()
    self:initData()
end

function GetCountCtrl:Hide()
    UIPanel.Hide(self)
end

function GetCountCtrl:OnCreate(obj)
    UIPanel.OnCreate(self,obj)
end

--Get components
function GetCountCtrl:_getComponent(go)
    self.btn = go.transform:Find("btn").gameObject
    self.title = go.transform:Find("title"):GetComponent("Image")
    self.explain = go.transform:Find("explain/Text"):GetComponent("Text")
    self.center = go.transform:Find("center/Text"):GetComponent("Text")
end

--Initialization data
function GetCountCtrl:initData()
    if self.m_data then
        self.center.text = string.format("<size=%d>%s</size><size=%d>%s</size>", 120, "+", 200, self.m_data.num)
        self.explain.text = string.format("<color=#ffffffff>%s</color><color=#ffd200ff>%s</color>",GetLanguage(27040015),self.m_data.pointNum)
    end
end

--return
function GetCountCtrl:OnBtn()
    UIPanel.ClosePage()
    UIPanel.ClosePage()
end
