---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by mengpengfei.
--- DateTime: 2019/5/17 9:38
---建筑信息Model

BuildingInformationModel = class('BuildingInformationModel',ModelBase)

function BuildingInformationModel:initialize(insId)
    self.insId = insId
    self:OnCreate()
end

function BuildingInformationModel:OnCreate()
    --原料厂
    DataManager.ModelRegisterNetMsg(nil,"gscode.OpCode","queryMaterialInfo","gs.MaterialInfo",self.n_MaterialFactoryInfo,self)
    --加工厂
    DataManager.ModelRegisterNetMsg(nil,"gscode.OpCode","queryProduceDepInfo","gs.ProduceDepInfo",self.n_ProcessingFactoryInfo,self)
    --零售店
    DataManager.ModelRegisterNetMsg(nil,"gscode.OpCode","queryRetailShopOrApartmentInfo","gs.RetailShopOrApartmentInfo",self.n_RetailShopInfo,self)
end

function BuildingInformationModel:Close()
    --原料厂
    DataManager.ModelRemoveNetMsg(nil,"gscode.OpCode","queryMaterialInfo","gs.MaterialInfo",self.n_MaterialFactoryInfo,self)
    --加工厂
    DataManager.ModelRemoveNetMsg(nil,"gscode.OpCode","queryProduceDepInfo","gs.ProduceDepInfo",self.n_ProcessingFactoryInfo,self)
    --零售店
    DataManager.ModelRemoveNetMsg(nil,"gscode.OpCode","queryRetailShopOrApartmentInfo","gs.RetailShopOrApartmentInfo",self.n_RetailShopInfo,self)
end

---客户端请求----
--请求建筑信息
--原料厂建筑信息
function BuildingInformationModel:m_ReqMaterialFactoryInfo(buildingId,playerId)
    local lMsg = {buildingId = buildingId,playerId = playerId}
    DataManager.ModelSendNetMes("gscode.OpCode", "queryMaterialInfo","gs.QueryBuildingInfo",lMsg)
end
--加工厂建筑信息
function BuildingInformationModel:m_ReqProcessingFactoryInfo(buildingId,playerId)
    local lMsg = {buildingId = buildingId,playerId = playerId}
    DataManager.ModelSendNetMes("gscode.OpCode", "queryProduceDepInfo","gs.QueryBuildingInfo",lMsg)
end
--零售店建筑信息
function BuildingInformationModel:m_ReqRetailShopInfo(buildingId,playerId)
    local lMsg = {buildingId = buildingId,playerId = playerId}
    DataManager.ModelSendNetMes("gscode.OpCode", "queryRetailShopOrApartmentInfo","gs.QueryBuildingInfo",lMsg)
end
---服务器回调---
--请求建筑信息
--原料厂建筑信息
function BuildingInformationModel:n_MaterialFactoryInfo(data)
    DataManager.ControllerRpcNoRet(self.insId,"BuildingInformationCtrl", 'builidngInfo',data)
end
--加工厂建筑信息
function BuildingInformationModel:n_ProcessingFactoryInfo(data)
    DataManager.ControllerRpcNoRet(self.insId,"BuildingInformationCtrl", 'builidngInfo',data)
end
--零售店建筑信息
function BuildingInformationModel:n_RetailShopInfo(data)
    DataManager.ControllerRpcNoRet(self.insId,"BuildingInformationCtrl", 'builidngInfo',data)
end
