---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by xuyafang.
--- DateTime: 2019/2/27 18:14
---Details in the secondary menu of raw materials
MapMatGoodSearchItem = class('MapMatGoodSearchItem', MapConfirmSearchBase)

--Initialization method
function MapMatGoodSearchItem:childInit(viewRect)
    self.iconImg = self.viewRect.transform:Find("bg/iconImg"):GetComponent("Image")
    self.selectImg = self.viewRect.transform:Find("selectImg")
    self.nameText = self.viewRect.transform:Find("nameText"):GetComponent("Text")

    local mat = Material[self.data.itemId]
    if mat ~= nil then
        self.nameText.text = GetLanguage(mat.name)
        self.languageId = mat.name
        --LoadSprite(mat.img, self.iconImg, false)
    else
        local good = Good[self.data.itemId]
        self.nameText.text = GetLanguage(good.name)
        self.languageId = good.name
        --LoadSprite(good.img, self.iconImg, false)
    end

    local tempSprite = SpriteManager.GetSpriteByPool(self.data.itemId)
    self.iconImg.sprite = tempSprite
end
--
function MapMatGoodSearchItem:initLanguage()
    self.nameText.text = GetLanguage(self.languageId)
end
--set up toggleGroup
function MapMatGoodSearchItem:setToggleGroup(toggle)
    if self.data.mapSearchType == EMapSearchType.Material then
        toggle.group = MapPanel.matPageToggleGroup
    elseif self.data.mapSearchType == EMapSearchType.Goods then
        toggle.group = MapPanel.goodsPageToggleGroup
    end
end
--
function MapMatGoodSearchItem:getNameStr()
    --return GetLanguage(self.data.itemId)
    return self.nameText.text
end