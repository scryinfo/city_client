---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2019/3/6 11:13
---交易量model
VolumeModel = class("VolumeModel",ModelBase)
local pbl = pbl

function VolumeModel:initialize(insId)
    self.insId = insId
    self:OnCreate()
end

function VolumeModel:OnCreate()
    DataManager.RegisterErrorNetMsg()
    --网络回调
    DataManager.ModelRegisterNetMsg(nil,"gscode.OpCode","CitizenDemand","gs.CitizenDemand",self.n_OnGetNpcNum,self) --npc类型数量

end

function VolumeModel:Close()
    --清空本地UI事件

end

--------------------客服端发包---------------------
--获取每种类型npc数量
function VolumeModel:m_GetNpcNum()
    local msgId = pbl.enum("gscode.OpCode","CitizenDemand")
    ----2、 填充 protobuf 内部协议数据
    --local msglogion = pb.as.Login()
    --msglogion.account = this.username
    --local pb_login = msglogion:SerializeToString()  -- Parse Example
    ----3、 获取 protobuf 数据大小
    --local pb_size = #pb_login
    ----4、 创建包，填入数据并发包
    CityEngineLua.Bundle:newAndSendMsg(msgId,nil)
end

-------------------服务器回调---------------------
function VolumeModel:n_OnGetNpcNum(lMsg)
    local a = lMsg
end