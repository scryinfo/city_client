---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by xuyafang.
--- DateTime: 2018/9/21 10:35
---
require "Common/define"
require "View/BuildingInfo/BuildingInfoToggleGroupMgr"

HouseCtrl = {};
local this = HouseCtrl;

local houseBehaviour;
local gameObject;

--构建函数--
function HouseCtrl.New()
    return this;
end

--打开界面
function HouseCtrl.OpenPanel(houseData)
    this.houseData = houseData
    panelMgr:CreatePanel('House', this.OnCreate);
end

--启动事件--
function HouseCtrl.OnCreate(obj)
    log("cycle_w5","[test_housepanel_oncreat]  测试完毕")
    gameObject = obj;
    houseBehaviour = gameObject:GetComponent('LuaBehaviour');
    --houseBehaviour:AddClick(HousePanel.bidBtn.gameObject, this.BidGround);
    --houseBehaviour:AddClick(HousePanel.backBtn.gameObject, this.UnRegistGroundBid);

    HousePanel.InitDate(this.houseData)

    this.houseData.buildingType = BuildingType.House
    local houseToggleGroup = BuildingInfoToggleGroupMgr:New()
    houseToggleGroup:initialize(HousePanel.leftRootTran, HousePanel.rightRootTran, houseBehaviour, this.houseData)

    --if this.houseData.isStartBid then
    --    Event.Brocast("m_RegistGroundBidInfor");
    --end
    --Event.AddListener("c_BidInfoUpdate", this.BidInfoUpdate);
end


