---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by xuyafang.
--- DateTime: 2019/2/27 18:13
---小地图搜索类型
MapRightMatGoodItem = class('MapRightMatGoodItem')

--初始化方法
function MapRightMatGoodItem:initialize(viewRect)
    self.viewRect = viewRect

    self.good = self.viewRect.transform:Find("good")
    self.goodIconImg = self.viewRect.transform:Find("good/iconImg"):GetComponent("Image")
    self.goodNameText = self.viewRect.transform:Find("good/goodNameText"):GetComponent("Text")
    self.goodDetailNameText = self.viewRect.transform:Find("good/bg/detailNameText"):GetComponent("Text")
    self.mat = self.viewRect.transform:Find("mat")
    self.matIconImg = self.viewRect.transform:Find("mat/iconImg"):GetComponent("Image")
    self.matNameText = self.viewRect.transform:Find("mat/matNameText"):GetComponent("Text")

    self.countText = self.viewRect.transform:Find("countText"):GetComponent("Text")
    self.priceText = self.viewRect.transform:Find("priceText"):GetComponent("Text")

    self:resetState()
end

--

--重置状态
function MapRightMatGoodItem:resetState()
    self:_language()
end
--多语言
function MapRightMatGoodItem:_language()
    --正式代码
    --self.goodNameText.text = GetLanguage(self.data.languageId)
    --self.matNameText.text = GetLanguage(self.data.languageId)
    --self.goodDetailNameText.text = GetLanguage()  --显示"商品"

    self.goodDetailNameText.text = "商品"
end
--
function MapRightMatGoodItem:refreshData(data)
    if data == nil then
        return
    end
    self.data = data
    local itemId = data.item.key.id
    local num = data.item.n
    self.countText.text = num
    self.priceText.text = data.price

    local matData = Material[itemId]
    if matData ~= nil then
        self.mat.localScale = Vector3.one
        self.good.localScale = Vector3.zero
        self.matNameText.text = matData.name  --需要换成多语言
        LoadSprite(matData.img, self.matIconImg, true)
    else
        local goodData = Good[itemId]
        self.mat.localScale = Vector3.zero
        self.good.localScale = Vector3.one
        self.goodNameText.text = goodData.name
        LoadSprite(goodData.img, self.matIconImg, true)
    end
end

function MapRightMatGoodItem:getIsSelect()
    return self.isSelect
end