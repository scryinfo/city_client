---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2019/6/4 10:48
---推广建筑信息
PromoteItem = class('PromoteItem')

function PromoteItem:initialize(dataInfo,prefab,luaBehaviour,isOther)
    self.dataInfo = dataInfo
    self.prefab = prefab

    self.promoteItemBtn = prefab.transform:Find("promoteItemBtn")
    self.promoteText = prefab.transform:Find("promoteItemBtn/promoteText"):GetComponent("Text")
    self.basisProduceRateTextBtn = prefab.transform:Find("basisProduceRateText"):GetComponent("Text")
    self.produceBounusTextBtn = prefab.transform:Find("basisProduceRateText/symbol/produceBounusText"):GetComponent("Text")

    self:language()

    luaBehaviour:AddClick(self.promoteItemBtn.gameObject,self._clickpromoteItemBtn,self)
    luaBehaviour:AddClick(self.basisProduceRateTextBtn.gameObject,self._clickBasisProduceRateTextBtn,self)
    luaBehaviour:AddClick(self.produceBounusTextBtn.gameObject,self._clickProduceBounusTextBtn,self)

    --是否是建筑主人，如果不是则所有按钮不能点击
    if isOther ~= DataManager.GetMyOwnerID() then
        self.promoteItemBtn:GetComponent("Button").interactable = false
        self.basisProduceRateTextBtn:GetComponent("Button").interactable = false
        self.produceBounusTextBtn:GetComponent("Button").interactable = false
    end
end
--多语言
function PromoteItem:language()
    self.promoteText.text = GetLanguage(27040031)
    self.basisProduceRateTextBtn.text = GetLanguage(27040032)
    self.produceBounusTextBtn.text = GetLanguage(27040033)
end
function PromoteItem:_clickpromoteItemBtn(ins)
    local data = {}
    data.buildingType = BuildingType.MaterialFactory
    data.dataInfo = ins.dataInfo.material
    --ct.OpenCtrl("BuildingGoodsTypeCtrl",data)
end
function PromoteItem:_clickBasisProduceRateTextBtn(ins)
    local stringKey = 27040034
    Event.Brocast("openTipBox",stringKey,ins.basisProduceRateTextBtn.transform.localPosition,ins.basisProduceRateTextBtn.transform)
end
function PromoteItem:_clickProduceBounusTextBtn(ins)
    local stringKey = 27040035
    Event.Brocast("openTipBox",stringKey,ins.produceBounusTextBtn.transform.localPosition,ins.produceBounusTextBtn.transform)
end