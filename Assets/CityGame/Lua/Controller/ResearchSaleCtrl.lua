---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Tina.
--- DateTime: 2019/7/24 16:33
---

ResearchSaleCtrl = class("ResearchSaleCtrl", UIPanel)
ResearchSaleCtrl:ResgisterOpen(ResearchSaleCtrl)

function ResearchSaleCtrl:initialize()
    UIPanel.initialize(self, UIType.PopUp, UIMode.DoNothing, UICollider.None)
end

function ResearchSaleCtrl:bundleName()
    return "Assets/CityGame/Resources/View/ResearchSalePanel.prefab"
end

function ResearchSaleCtrl:OnCreate(obj)
    UIPanel.OnCreate(self, obj)
end

function ResearchSaleCtrl:Awake(go)
    local luaBehaviour = self.gameObject:GetComponent("LuaBehaviour")

    luaBehaviour:AddClick(ResearchSalePanel.backBtn, self.OnBack, self)
    luaBehaviour:AddClick(ResearchSalePanel.saleBtn, self.OnSale, self)
    luaBehaviour:AddClick(ResearchSalePanel.stopSaleBtn, self.OnStopSale, self)
end

function ResearchSaleCtrl:Active()
    UIPanel.Active(self)
end

function ResearchSaleCtrl:Refresh()
    self:_updateData()
end

function ResearchSaleCtrl:Hide()
    UIPanel.Hide(self)
end

-- 初始化基本数据
function ResearchSaleCtrl:_updateData()
    -- 根据useType判断是否需要显示下架
end
-------------------------------------按钮点击事件-------------------------------------
function ResearchSaleCtrl:OnBack(go)
    PlayMusEff(1002)
    UIPanel.ClosePage()
end

function ResearchSaleCtrl:OnSale(go)
    PlayMusEff(1002)
    -- 向服务器发送上架消息

    UIPanel.ClosePage()
end

function ResearchSaleCtrl:OnStopSale(go)
    PlayMusEff(1002)
    -- 向服务器发送下架消息

    UIPanel.ClosePage()
end