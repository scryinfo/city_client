---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Tina.
--- DateTime: 2019/5/30 19:45
---

ResultTwoItem = class("ResultTwoItem")

-- 初始化
function ResultTwoItem:initialize(transform)
    self.transform = transform
    self.titleText = transform:Find("TitleText"):GetComponent("Text")
    self.addTextTF = transform:Find("AddText")
    self.addText = transform:Find("AddText"):GetComponent("Text")
    self.addContentText = transform:Find("AddText/AddContentText"):GetComponent("Text")
    self.contentTitleText = transform:Find("ContentTitleText"):GetComponent("Text")
    self.contentText = transform:Find("ContentTitleText/ContentText"):GetComponent("Text")
end

-- 初始化数据
function ResultTwoItem:_initData(data, configData)
    self.configData = configData
    self.titleText.text = configData.name
    self.contentTitleText.text = configData.name
    if configData.Btype == "Quality" then
        self.addText.text = "Quality bonus"
        self.addTextTF.localScale = Vector3.one
    else
        self.addTextTF.localScale = Vector3.zero
    end
    self:_showData(data)
end

-- 显示数据
function ResultTwoItem:_showData(data)
    if self.configData.Btype == "Quality" then
        if data.at < 2100000 then -- 建筑品质加成
            self.contentText.text = string.format( "%.2f", (1 + EvaUp[data.lv].add / 100000) * self.configData.basevalue)
        else -- 商品品质值
            self.contentText.text = string.format( "%.2f",EvaUp[data.lv].add / 1000)
        end
        if data.lv == 1 then
            self.addContentText.text = "0"
        else
            self.addContentText.text = tostring(EvaUp[data.lv].add / 1000) .. "%"
        end
    elseif self.configData.Btype == "Brand" then
        self.contentText.text = data.b
    end
end

-- 设置是否显示
function ResultTwoItem:_isShow(isShow)
    self.transform.localScale = isShow and Vector3.one or Vector3.zero
end