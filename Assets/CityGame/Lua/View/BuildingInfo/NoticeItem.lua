---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2018/11/13 15:33
---通知信息
local class = require 'Framework/class'
require('Framework/UI/UIPage')
NoticeItem = class('NoticeItem')

--初始化方法   数据（读配置表）
function NoticeItem:initialize(goodsDataInfo,prefab,inluabehaviour, mgr, id)
    self.prefab = prefab;
    self.goodsDataInfo = goodsDataInfo;
    self._luabehaviour = inluabehaviour
    self.manager = mgr
    self.id = id

    self.itemHedaer = self.prefab.transform:Find("hedaer").gameObject:GetComponent("Text");
    self.from = self.prefab.transform:Find("from").gameObject:GetComponent("Text");
    self.itemTime = self.prefab.transform:Find("time").gameObject:GetComponent("Text");
    self.hint = self.prefab.transform:Find("hint").gameObject;
    self.onBg = self.prefab.transform:Find("bg").gameObject;
    self.newBg = self.prefab.transform:Find("newBg").gameObject;

    self.itemHedaer.text = goodsDataInfo.header
    self.from.text = goodsDataInfo.from
    self.itemTime.text = os.date("%Y-%m-%d %H:%M:%S");

    self._luabehaviour:AddClick(self.onBg, self.OnBg, self);

end

function NoticeItem:OnBg(go)
    Event.Brocast("c_onBg",go)
end

function NoticeItem:RefreshID(id)
    self.id = id
end
