---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by ljw.
--- DateTime: 2019/4/22 16:41
---

SetRenTableWareHouseCtrl = class('SetRenTableWareHouseCtrl',UIPanel)
UIPanel:ResgisterOpen(SetRenTableWareHouseCtrl)

function SetRenTableWareHouseCtrl:initialize()
    UIPanel.initialize(self,UIType.PopUp,UIMode.DoNothing,UICollider.Normal)
end

function SetRenTableWareHouseCtrl:bundleName()
    return "Assets/CityGame/Resources/View/SetRenTableWareHousePanel.prefab"
end

function SetRenTableWareHouseCtrl:OnCreate(obj)
    UIPanel.OnCreate(self,obj)
end

function SetRenTableWareHouseCtrl:Awake(go)
    self.gameObject = go
    self.luaBehaviour = self.gameObject:GetComponent('LuaBehaviour')
    self.luaBehaviour:AddClick(SetRenTableWareHousePanel.closeBtn.gameObject,self._clickCloseBtn,self)
    self.luaBehaviour:AddClick(SetRenTableWareHousePanel.startBtn.gameObject,self._clickstartBtn,self)
    self.luaBehaviour:AddClick(SetRenTableWareHousePanel.shutBtn.gameObject,self._clickshutBtn,self)
end

function SetRenTableWareHouseCtrl:Active()
    UIPanel.Active(self)
    self:_language()
end

function SetRenTableWareHouseCtrl:Refresh()

end

function SetRenTableWareHouseCtrl:Hide()
    UIPanel.Hide(self)
    --self:CloseDestroy()
end

----------------------------------------------------------------------------------------------------------------------------------------------------
--设置多语言
function SetRenTableWareHouseCtrl:_language()
    SetRenTableWareHousePanel.topNameText.text = "SET RENTABLE WAREHOUSE"
    --self.placeholderText.text = "设置可出租仓库 "
    --SetRenTableWareHousePanel.priceText.text = "0.0000"
end
-----------------------------------------------------------------点击函数----------------------------------------------------------------------------
--直接关闭页面后刷新数据
function SetRenTableWareHouseCtrl:_clickCloseBtn()
    UIPanel.ClosePage()
end

--设置后确认刷新数据
function SetRenTableWareHouseCtrl:_clickstartBtn(go)
    local data = {}
    data.buildingId = go.m_data.insId
    data.rentCapacity = SetRenTableWareHousePanel.spaceText.text
    data.rent = SetRenTableWareHousePanel.priceText.text
    data.minHourToRent = SetRenTableWareHousePanel.mintimeText.text
    data.maxHourToRent = SetRenTableWareHousePanel.maxtimeText.text
    DataManager.OpenDetailModel(BuidingWareHouseModel,data.buildingId)
    DataManager.DetailModelRpcNoRet(data.buildingId, 'm_ReqSentHouseDetailInfo',data)
    UIPanel.ClosePage()
end

--取消页面
function SetRenTableWareHouseCtrl:_clickshutBtn()
    ct.OpenCtrl("MyShutDownCtrl")
end


--玩家设置出租信息
function SetRenTableWareHouseCtrl:_senInfo(SentWareHouseInfo)
    local insId = self.m_data.insId
    self.m_data = SentWareHouseInfo
    self.m_data.insId = insId
end

























