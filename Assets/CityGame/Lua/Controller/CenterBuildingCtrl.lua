---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2019/1/14 14:59
---中心建筑ctrl

CenterBuildingCtrl = class('CenterBuildingCtrl',UIPanel)
UIPanel:ResgisterOpen(CenterBuildingCtrl)

local centerBuildingBehaviour;

function  CenterBuildingCtrl:bundleName()
    return "Assets/CityGame/Resources/View/CenterBuildingPanel.prefab"
end

function CenterBuildingCtrl:initialize()
    UIPanel.initialize(self,UIType.PopUp,UIMode.NeedBack,UICollider.None)--可以回退，UI打开后，不隐藏其它的UI
end

function CenterBuildingCtrl:OnCreate(obj)
    UIPanel.OnCreate(self,obj)

end

function CenterBuildingCtrl:Awake()
    centerBuildingBehaviour = self.gameObject:GetComponent('LuaBehaviour');
    centerBuildingBehaviour:AddClick(CenterBuildingPanel.bg,self.OnBg,self)
    centerBuildingBehaviour:AddClick(CenterBuildingPanel.flight,self.OnFlight,self)  --航班预测
    centerBuildingBehaviour:AddClick(CenterBuildingPanel.btn,self.OnBtn,self)   --城市交易
end

function CenterBuildingCtrl:Active()
    UIPanel.Active(self)
    CenterBuildingPanel.name.text = GetLanguage(11030001)
    CenterBuildingPanel.contentText.text = GetLanguage(11030002)
    CenterBuildingPanel.btnText.text = GetLanguage(11030003)
    CenterBuildingPanel.nameText.text = GetLanguage(11030004)
    CenterBuildingPanel.join.text = GetLanguage(11030005)
    CenterBuildingPanel.staytuned.text = GetLanguage(11030006)
end

function CenterBuildingCtrl:Hide()
    UIPanel.Hide(self)
end

function CenterBuildingCtrl:OnBg()
    PlayMusEff(1002)
    UIPanel.ClosePage();
end

--点击航班预测
function CenterBuildingCtrl:OnFlight()
    PlayMusEff(1002)
    ct.OpenCtrl("FlightMainCtrl")
end

--点击城市交易
function CenterBuildingCtrl:OnBtn()
    PlayMusEff(1002)
    ct.OpenCtrl("VolumeCtrl")
end
