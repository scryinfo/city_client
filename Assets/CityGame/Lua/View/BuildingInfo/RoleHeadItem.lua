---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2019/1/12 16:31
---角色頭像item
local class = require 'Framework/class'
require('Framework/UI/UIPage')
RoleHeadItem = class('RoleHeadItem')
local ins = nil

--初始化方法   数据（读配置表）
function RoleHeadItem:initialize(prefab,path,id)
    self.prefab = prefab;
    self.id = id

    self.bg = self.prefab.transform:Find("bg"):GetComponent("Image");
    self.head = self.prefab.transform:Find("bg/head"):GetComponent("Image");
    self.select = self.prefab.transform:Find("select");
    self.btn = self.prefab.transform:Find("btn"):GetComponent("Button");

    LoadSprite(path, self.head, true)
    self.btn.onClick:AddListener(function ()
        self:OnBtn(self)
    end)
end

function RoleHeadItem:OnBtn(go)
    PlayMusEff(1002)
    if ins ~= nil then
        ins.select.localScale = Vector3.zero
        ins.bg.color =getColorByInt(152,186,255,255)
    end
    go.select.localScale = Vector3.one
    self.bg.color =getColorByInt(255,219,67,255)
    ins = go
    SelectHeadCtrl:SetHeadId(go.id)
end
