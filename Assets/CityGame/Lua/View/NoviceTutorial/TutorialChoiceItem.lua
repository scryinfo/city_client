---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Tina.
--- DateTime: 2019/6/20 17:24
---

TutorialChoiceItem = class("TutorialChoiceItem")
TutorialChoiceItem.static.NomalNameColor = Vector3.New(78, 106, 178) -- 默认的名字颜色
TutorialChoiceItem.static.SelectNameColor = Vector3.New(255, 255, 255) -- 被选中的名字颜色

-- 初始化
function TutorialChoiceItem:initialize(prefab, index, ctrl)
    self.prefab = prefab
    self.index = index
    self.ctrl = ctrl
    self.transform = prefab.transform

    self.choiceNameText = self.transform:Find("Text"):GetComponent("Text")

    self.btn = self.transform:GetComponent("Button")

    self.btn.onClick:RemoveAllListeners()
    self.btn.onClick:AddListener(function()
        self:_onClickBtn()
    end)

    self:SetNameText()
end

-- 设置按钮的是否可点
function TutorialChoiceItem:SetSelect(isSelect)
    self.btn.interactable = isSelect
    self.transform.sizeDelta = isSelect and Vector2.New(314, 110) or Vector2.New(318, 110)
    self.choiceNameText.color = getColorByVector3(isSelect and TutorialChoiceItem.static.NomalNameColor or TutorialChoiceItem.static.SelectNameColor)
end

-- 设置选择项的名字
function TutorialChoiceItem:SetNameText()
    self.choiceNameText.text = "Land"
end

-- 按钮的点击事件
function TutorialChoiceItem:_onClickBtn()
    self:SetSelect(false)
    self.ctrl:_setBtnState(self)
    self.ctrl:ShowVideo(self.index)
end