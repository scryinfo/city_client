---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Tina.
--- DateTime: 2019/5/11 17:02
---

-- 公司、我的品牌、品牌类型显示，可以点击，显示该类品牌
BrandTitleItem = class("BrandTitleItem")
BrandTitleItem.static.NomalNameColor = Vector3.New(169, 177, 196) -- 默认的名字颜色
BrandTitleItem.static.SelectNameColor = Vector3.New(255, 255, 255) -- 被选中的名字颜色

-- 初始化
function BrandTitleItem:initialize(prefab, data)
    self.prefab = prefab
    self.data = data

    local transform = prefab.transform

    self.brandSelectBtn = transform:GetComponent("Button")
    self.nameText = transform:Find("Text"):GetComponent("Text")
    self:SetName()
    self:SetSelect(true)

    self.brandSelectBtn.onClick:RemoveAllListeners()
    self.brandSelectBtn.onClick:AddListener(function ()
        self:_setContent()
    end)
end

-- 设置类型名字
function BrandTitleItem:SetName()
    if self.data == 1 then
            self.nameText.text = "Raw material"
    elseif self.data == 2 then
        self.nameText.text = "Commodity"
    elseif self.data == 3 then
        self.nameText.text = "Building"
    elseif self.data == 4 then
        self.nameText.text = "Promotion"
    elseif self.data == 5 then
        self.nameText.text = "Technology"
    end
end

-- 设置是否选中，并刷新它的显示
function BrandTitleItem:SetSelect(isSelect)
    self.brandSelectBtn.interactable = isSelect
    local nameTextV3 = isSelect and BrandTitleItem.static.NomalNameColor or BrandTitleItem.static.SelectNameColor
    self.nameText.color = getColorByVector3(nameTextV3)
end

-- 显示品牌信息
function BrandTitleItem:_setContent()
    CompanyCtrl.static.companyMgr:SetBrandTitleNameTextColor()
    self:SetSelect(false)
    CompanyCtrl.static.companyMgr:ShowBrandItem(self.data)
end