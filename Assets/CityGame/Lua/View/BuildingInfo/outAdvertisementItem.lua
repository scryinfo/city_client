---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Administrator.
--- DateTime: 2018/11/12/012 16:39
---


require('Framework/UI/UIPage')
local class = require 'Framework/class'

outAdvertisementItem = class('outAdvertisementItem')

---初始化方法   数据（读配置表）
function outAdvertisementItem:initialize(prefabData,prefab,inluabehaviour, mgr, id)
    self.prefab = prefab;
    self.prefabData = prefabData;
    self._luabehaviour = inluabehaviour
    self.manager = mgr
    self.id = id
    self.ItemList=mgr.outAdvertisementItemList

    self.peopleText=prefab.transform:Find("showPanel/peoplecount/peoplecountText"):GetComponent("Text")
    self.dayText=prefab.transform:Find("bg/day/dayText"):GetComponent("Text")
    self.nameText=prefab.transform:Find("nameImage/Text"):GetComponent("Text")
    self.iconIma=prefab.transform:Find("icon"):GetComponent("Image")
    self.adNameText=prefab.transform:Find("showPanel/nameImage/nameText"):GetComponent("Text")

    if prefabData.npcFlow then
        --人流量
        self.peopleText.text=prefabData.npcFlow
        --时间
        local beginTs=tostring(prefabData.beginTs)
        beginTs=string.sub(beginTs,1,10)
        local passTime=os.time()-beginTs
        self.dayText.text=string.sub(getFormatUnixTime(passTime).day,2,2).."d"
    end

    if prefabData.name then
       self.nameText.text=prefabData.personName
       LoadSprite(prefabData.path,self.iconIma,true)
       self.adNameText.text=prefabData.name
    end



end
---删除
function outAdvertisementItem:OnClicl_XBtn(go)
    go.manager:_deleteGoods(go)
end

function outAdvertisementItem:updateData()



end
