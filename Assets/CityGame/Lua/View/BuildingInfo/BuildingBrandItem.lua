---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by xuyafang.
--- DateTime: 2019/1/11 14:58
---
BuildingBrandItem = class('BuildingBrandItem')
BuildingBrandItem.static.ContentHeight = 344  --content height

--Initialization method --The data requires the current rent & effective date (current day + time read from the configuration table: 08:00:00)
function BuildingBrandItem:initialize(data, viewRect)
    self.viewRect = viewRect
    self.data = data
    self.bgBtn = viewRect.transform:Find("topRoot/bgBtn"):GetComponent("Button")
    self.brandText = viewRect.transform:Find("topRoot/brandText"):GetComponent("Text")
    self.qualityText = viewRect.transform:Find("topRoot/qualityText"):GetComponent("Text")

    self.contentRoot = viewRect.transform:Find("contentRoot"):GetComponent("RectTransform")
    self.contentBrandText = viewRect.transform:Find("contentRoot/brand/top/brandText"):GetComponent("Text")
    self.currentLookText = viewRect.transform:Find("contentRoot/brand/current/currentText"):GetComponent("Text")
    self.highestLookText = viewRect.transform:Find("contentRoot/brand/highest/highestText"):GetComponent("Text")
    self.highestLookPlayerImg = viewRect.transform:Find("contentRoot/brand/highest/protait/whiteBg/avtar"):GetComponent("Image")

    self.contentQualityText = viewRect.transform:Find("contentRoot/quality/top/qualityText"):GetComponent("Text")
    self.currentQualityText = viewRect.transform:Find("contentRoot/quality/current/currentText"):GetComponent("Text")
    self.highestQualityText = viewRect.transform:Find("contentRoot/quality/highest/highestText"):GetComponent("Text")
    self.highestQualityPlayerImg = viewRect.transform:Find("contentRoot/quality/highest/protait/whiteBg/avtar"):GetComponent("Image")
    --lanuage
    self.topBrandText01 = viewRect.transform:Find("topRoot/Text01"):GetComponent("Text")
    self.topQtyText01 = viewRect.transform:Find("topRoot/Text02"):GetComponent("Text")

    self.buildingInfoToggleState = BuildingInfoToggleState.Open  --Open by default
    self:_initTopInfo()
end

function BuildingBrandItem:_initTopInfo()
    self.brandText.text = self.data.brand or 100
    self.qualityText.text = self.data.qty or 100
    self:_lanuage()
end
function BuildingBrandItem:_initContentInfo()
    self.contentBrandText.text = self.data.brand or 100
    self.contentQualityText.text = self.data.qty or 100
    --Poor pageviews
    --The most viewed and highest quality player avatar
end

function BuildingBrandItem:_lanuage()
    self.topBrandText01.text = GetLanguage(37040008)
    self.topQtyText01.text = GetLanguage(37040009)
end

--turn on
function BuildingBrandItem:openToggleItem(targetMovePos)
    self.buildingInfoToggleState = BuildingInfoToggleState.Open
    self.contentRoot:DOSizeDelta(Vector2.New(self.contentRoot.sizeDelta.x, BuildingBrandItem.static.ContentHeight), BuildingInfoToggleGroupMgr.static.ITEM_MOVE_TIME):SetEase(DG.Tweening.Ease.OutCubic)
end

--shut down
function BuildingBrandItem:closeToggleItem(targetMovePos)
    self.buildingInfoToggleState = BuildingInfoToggleState.Close
    self.contentRoot:DOSizeDelta(Vector2.New(self.contentRoot.sizeDelta.x, 0), BuildingInfoToggleGroupMgr.static.ITEM_MOVE_TIME):SetEase(DG.Tweening.Ease.OutCubic)
end

--Refresh data
function BuildingBrandItem:updateInfo(data)
    self.data = data
    self:_initTopInfo()
end
