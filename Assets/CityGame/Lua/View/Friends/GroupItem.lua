---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Tina.
--- DateTime: 2018/11/29 14:35
---

GroupItem = class('GroupItem')

-- 初始化
function GroupItem:initialize(type, luaBehaviour, prefab, data)
    self.prefab = prefab
    self.data = data

    local transform = prefab.transform

    -- 群名
    self.nameText = transform:Find("NameText"):GetComponent("Text")
    -- 群人数
    self.numberText = transform:Find("NumberBg/NumberText"):GetComponent("Text")
    -- 群重命名按钮
    self.renameBtn = transform:Find("RenameBtn").gameObject
    -- 群删除按钮
    self.deleteBtn = transform:Find("DeleteBtn").gameObject

    self.nameText.text = data.name
    self.numberText.text = data.number
    self.renameBtn:SetActive(false)
    self.deleteBtn:SetActive(false)
    --if type == 2 then -- 群组主界面
    --else
    if type == 7 then -- 群组管理界面
        self.renameBtn:SetActive(true)
        self.deleteBtn:SetActive(true)
        luaBehaviour:AddClick(self.renameBtn, self.OnRename, self)
        luaBehaviour:AddClick(self.deleteBtn, self.OnDelete, self)
    end
end

function GroupItem:OnRename(go)
    UIPage.ClosePage()
end

function GroupItem:OnDelete(go)
    UIPage.ClosePage()
end

function GroupItem:_setBtnState()
    self.renameBtn:SetActive(not self.renameBtn.activeSelf)
    self.deleteBtn:SetActive(not self.deleteBtn.activeSelf)
end