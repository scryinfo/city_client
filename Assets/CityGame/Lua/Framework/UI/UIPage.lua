---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by cyz_scry.
--- DateTime: 2018/9/27 10:09
---
local class = require 'Framework/class'

UIType = {
    Normal =1 ,
    Fixed =2 ,
    PopUp =3 ,
    None =4 ,      --独立的窗口
}

UIMode =
{
    DoNothing =1,
    HideOther =2,     -- 闭其他界面
    NeedBack =3,      -- 点击返回按钮关闭当前,不关闭其他界面(需要调整好层级关系)
    NoNeedBack =4,    -- 关闭TopBar,关闭其他界面,不加入backSequence队列
}

UICollider =
{
    None =1,      -- 显示该界面不包含碰撞背景
    Normal=2,    --碰撞透明背景
    WithBg=3,    -- 碰撞非透明背景
}

UIPage = class('UIPage') --this is the same as class('UIPage', Object) or Object:subclass('UIPage') 没有基类的类，默认基类是Object，不需要写而已
UIPage.static.m_allPages={}
UIPage.static.allPages={}
UIPage.static.m_currentPageNodes={}
UIPage.static.currentPageNodes={}

function UIPage:initialize(name)
    self:initialize(name,UIType.Normal,UIMode.DoNothing)
end

function UIPage:initialize(name, mod, col)
    self.name = name
    self.mode = mod
    self.collider = col
    self.id = -1
    self.type = UIType.Normal
    self.uiPath = ""
    self.gameObject = nil
    self.transform = nil
    self.isAsyncUI = false
    self.isActived = false
    self.m_data = nil
    self.data = nil
    self.delegateAsyncLoadUI = nil
end

function UIPage.Awake(obj)
    gameObject = obj;
end

function UIPage.Refresh()

end

function UIPage.Active()

end

function UIPage.Hide()
    self.gameObject.SetActive(false)
    isActived = false
    self.m_data = nil
end

function UIPage.Active()

end

function UIPage.OnCreate(obj)
    gameObject = obj;
end

function UIPage.Show()
    if self.gameObject == nil and self.uiPath == "" then
        local go = nil
        if delegateAsyncLoadUI ~= nil then
            local o = delegateAsyncLoadUI(self.uiPath)
            go = o
        else
            go = Resources.Load(uiPath)
        end

        assert(go, "system","[UIPage.Show] "," 没有找到资源： ",uiPath)
        if go == nil then

        end
    end
end
