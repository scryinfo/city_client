---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Tina.
--- DateTime: 2019/6/3 18:29
---

EvaJoinCtrl = class("EvaJoinCtrl", UIPanel)
UIPanel:ResgisterOpen(EvaJoinCtrl)
EvaJoinCtrl.static.NumberColor = "#09FCFD" -- 介绍特殊颜色
EvaJoinCtrl.static.languageTab = -- 多语言配置表
{
    --{}
}

function EvaJoinCtrl:initialize()
    UIPanel.initialize(self, UIType.Normal, UIMode.HideOther, UICollider.None)
end

function EvaJoinCtrl:bundleName()
    return "Assets/CityGame/Resources/View/EvaJoinPanel.prefab"
end

function EvaJoinCtrl:OnCreate(obj)
    UIPanel.OnCreate(self, obj)
end

function EvaJoinCtrl:Awake()
    local transform = self.gameObject.transform
    local luaBehaviour = self.gameObject:GetComponent("LuaBehaviour")
    self.goEvaBtn = transform:Find("GoEvaBtn")
    local closeBtn = transform:Find("CloseBtn")
    transform:Find("EvaContentText"):GetComponent("Text").text = string.format("<color=%s><b>%s</b></color>%s", PropertyFalseItem.static.NumberColor,"Eva", GetLanguage(31010002))
    transform:Find("GoEvaBtn/Text"):GetComponent("Text").text = GetLanguage(31010010)

    luaBehaviour:AddClick(self.goEvaBtn.gameObject, self.OnGoEva, self)
    luaBehaviour:AddClick(closeBtn.gameObject, self.OnClose, self)
end

-- 跳转Eva界面
function EvaJoinCtrl:OnGoEva(go)
    PlayMusEff(1002)
    UIPanel.ClosePage()
    ct.OpenCtrl("EvaCtrl")
end

-- 显示GoEva
function EvaJoinCtrl:OnClose(go)
    PlayMusEff(1002)
    self.transform.localScale = Vector3.zero
    go.goEvaBtn:DOScale(Vector3.New(1,1,1),0.5):SetEase(DG.Tweening.Ease.OutCubic)
end