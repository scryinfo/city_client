---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by xuyafang.
--- DateTime: 2019/2/27 18:13
---Own building
MapRightSystemPage = class('MapRightSystemPage', MapRightPageBase)

--Initialization method
function MapRightSystemPage:initialize(viewRect)
    self.viewRect = viewRect:GetComponent("RectTransform")

    self.closeBtn = self.viewRect.transform:Find("topRoot/closeBtn"):GetComponent("Button")
    --btn
    self.goHereBtn = self.viewRect.transform:Find("bottomRoot/goHereBtn"):GetComponent("Button")
    self.goHereText01 = self.viewRect.transform:Find("bottomRoot/goHereBtn/Text"):GetComponent("Text")
    self.titleText02 = self.viewRect.transform:Find("topRoot/titleText"):GetComponent("Text")
    self.valueText03 = self.viewRect.transform:Find("centerRoot/scroll/Viewport/Content/Text"):GetComponent("Text")

    self.closeBtn.onClick:AddListener(function ()
        PlayMusEff(1002)
        self:close()
    end)
    self.goHereBtn.onClick:AddListener(function ()
        PlayMusEff(1002)
        self:_goHereBtn()
    end)
end
--
function MapRightSystemPage:refreshData(data)
    self.viewRect.anchoredPosition = Vector2.zero
    self.data = data
    self:openShow()
end
--Reset state
function MapRightSystemPage:openShow()
    self:_language()
    self.viewRect.anchoredPosition = Vector2.zero
end
--multi-language
function MapRightSystemPage:_language()
    self.goHereText01.text = GetLanguage(20010008)
    self.titleText02.text = GetLanguage(11040001)
    self.valueText03.text = GetLanguage(11040002)
end
--shut down
function MapRightSystemPage:close()
    self.viewRect.anchoredPosition = Vector2.New(506, 0)
end
--Go to a building on the map
function MapRightSystemPage:_goHereBtn()
    local temp = {x = BagPosInfo[1].bagX, y = BagPosInfo[1].bagY}  --Location of the central building
    MapBubbleManager.GoHereFunc(temp)
end
