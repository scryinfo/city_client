---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by xuyafang.
--- DateTime: 2019/2/27 18:13
---小地图搜索类型
MapSearchTypePageItem = class('MapSearchTypePageItem', MapSearchTypeItemBase)

function MapSearchTypePageItem:_addListener()
    Event.AddListener("c_MapTypeChangeName", self.setShowName, self)
end

--选中了类型中的某一个
function MapSearchTypePageItem:refreshShow(isSelect, showName)
    if isSelect == true then
        if self.isSelect == false then
            self.selectFunc()  --由未选中变为选中状态
        end
        self.select.localScale = Vector3.one
        self.disSelect.localScale = Vector3.zero
        if showName ~= nil then
            self:setShowName(showName)
        end
    else
        self.select.localScale = Vector3.zero
        self.disSelect.localScale = Vector3.one
    end
    self.loadBtnTran.transform.localScale = Vector3.one
    self.isSelect = isSelect
end
--点击事件
function MapSearchTypePageItem:_clickFunc()
    if self.isSelect == true then
        --Event.Brocast("c_MapCloseDetailPage", self.data.typeId, false)  --关闭右侧界面
    else
        Event.Brocast("c_MapSearchSelectType", self.data.typeId)  --播报事件，选中自己
        self.isOpenState = true
        Event.Brocast("c_MapCloseDetailPage", self.data.typeId, self.isOpenState)  --关闭右侧界面
        return
    end

    --展开右侧或者关闭右侧
    self.isOpenState = not self.isOpenState
    Event.Brocast("c_MapCloseDetailPage", self.data.typeId, self.isOpenState)  --关闭右侧界面
end
--
function MapSearchTypePageItem:setShowName(str)
    if str ~= nil and str ~= "" then
        self.selectShowNameText.text = str
    end
    if str == nil then
        self:_language()
    end
end