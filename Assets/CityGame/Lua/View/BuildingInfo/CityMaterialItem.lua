---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2018/11/28 16:27
---
CityMaterialItem = class('CityMaterialItem')

--初始化方法
function CityMaterialItem:initialize(data, viewRect,id)
    self.viewRect = viewRect
    self.data = data
    self.num = data.companyNum
    self.id = id
    local viewTrans = self.viewRect
    self.transform = viewTrans:GetComponent("RectTransform")
    self.name = viewTrans:Find("cityinfoData/name/Text"):GetComponent("Text")
    self.companyNum = viewTrans:Find("cityinfoData/companyNum/Text"):GetComponent("Text")
    self.staffNum = viewTrans:Find("cityinfoData/staffNum/Text"):GetComponent("Text")
    self.stocks = viewTrans:Find("cityinfoData/stocks/Text"):GetComponent("Text")
    self.dayProduction = viewTrans:Find("cityinfoData/dayProduction/Text"):GetComponent("Text")
    self.averagePrice = viewTrans:Find("cityinfoData/averagePrice/Text"):GetComponent("Text")
    self.totalProfit = viewTrans:Find("cityinfoData/totalProfit/Text"):GetComponent("Text")
    self.totalProfitAdd = viewTrans:Find("cityinfoData/totalProfitAdd/Text"):GetComponent("Text")
    self.line = viewTrans:Find("GameObject").gameObject
    self.btn = viewTrans:Find("cityinfoData"):GetComponent("Button")
    self.line:SetActive(false)

    self:_initData()
    self.btn.onClick:AddListener(function ()
        self:_OnBtn()
    end)

end

--初始化界面
function CityMaterialItem:_initData()
    local data = self.data
    self.companyNum.text = data.companyNum
    self.staffNum.text = data.staffNum
    self.stocks.text = data.stocks
    self.dayProduction.text = data.dayProduction
    self.averagePrice.text = data.averagePrice
    self.totalProfit.text = data.totalProfit
    self.totalProfitAdd.text = data.totalProfitAdd
end

function CityMaterialItem:_OnBtn()
    Event.Brocast("c_OnBtn",self)
end