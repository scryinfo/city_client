---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2018/10/25 11:49
---仓库商品
local class = require 'Framework/class'
require('Framework/UI/UIPage')
require "Controller/InputDialogPageCtrl"
require "Controller/DeleteGoodsTooptipCtrl"
WareHouseGoodsItem = class('WareHouseGoodsItem')

--初始化方法   数据（读配置表）
function WareHouseGoodsItem:initialize(goodsDataInfo,prefab,inluabehaviour, mgr, id)
    self.prefab = prefab;
    self.goodsDataInfo = goodsDataInfo;
    self._luabehaviour = inluabehaviour
    self.manager = mgr
    self.id = id
    self.nameText = self.prefab.transform:Find("WareHouseItem/Goods/Name/NameText").gameObject:GetComponent("Text");
    self.numberText = self.prefab.transform:Find("WareHouseItem/Goods/Number/NumberText").gameObject:GetComponent("Text");
    self.deleteBtn = self.prefab.transform:Find("WareHouseItem/Goods/Delete/DeleteButton").gameObject;
    self.nameText.text = goodsDataInfo.name
    self.numberText.text = goodsDataInfo.number

    self._luabehaviour:AddClick(self.deleteBtn.gameObject, self.OnDelete, self);

end
--删除
function WareHouseGoodsItem:OnDelete(go)
    log("rodger_w8_GameMainInterface","[test_OnDelete]  测试完毕")
    local data = {}
    data.titleInfo = "RENAME";
    data.tipInfo = "Modified every seven days";
    --UIPage:ShowPage(InputDialogPageCtrl,data);
   UIPage:OpenCtrl('InputDialogPageCtrl')
   -- go.manager:_deleteGoods(go)
end

--删除后刷新ID及刷新显示
function WareHouseGoodsItem:RefreshID(id)
    self.id = id
end
