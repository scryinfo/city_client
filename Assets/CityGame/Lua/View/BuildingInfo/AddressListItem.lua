---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2018/11/1 11:07
---Address book
local class = require 'Framework/class'
require('Framework/UI/UIPage')
AddressListItem = class('AddressListItem')

--Initialization method data (read configuration table)
function AddressListItem:initialize(DataInfo,prefab,mgr)
    self.prefab = prefab;
    self.dataInfo = DataInfo;
    self.manager = mgr;
    self.id = DataInfo.id
    self.faceId = DataInfo.faceId
    self.onClick = true  --First click

    self.bg = self.prefab.transform:Find("bg").gameObject:GetComponent("Button");
    self.name = self.prefab.transform:Find("name").gameObject:GetComponent("Text");
    self.face = self.prefab.transform:Find("face/faceItem").gameObject:GetComponent("Image");
    self.box = self.prefab.transform:Find("box").gameObject;

    self.name.text = DataInfo.name

    LoadSprite(PlayerHead[self.faceId].WareHouse, self.face, true)

    self.box:SetActive(false);
    self.bg.onClick:AddListener(function()
        self:OnAddressListBG(self);
    end)
end

function AddressListItem:OnAddressListBG(go)
    PlayMusEff(1002)
    Event.Brocast("c_OnAddressListBG",go)
end