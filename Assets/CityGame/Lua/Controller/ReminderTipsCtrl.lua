---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Fisher.
--- DateTime: 2019/5/18 15:42
---建筑停业和拆除

ReminderTipsCtrl = class('ReminderTipsCtrl',UIPanel)
UIPanel:ResgisterOpen(ReminderTipsCtrl) --注册打开的方法

function ReminderTipsCtrl:initialize()
    UIPanel.initialize(self,UIType.PopUp,UIMode.DoNothing,UICollider.Normal);
end

function ReminderTipsCtrl:bundleName()
    return "Assets/CityGame/Resources/View/ReminderTipsPanel.prefab";
end

function ReminderTipsCtrl:OnCreate(obj)
    UIPanel.OnCreate(self,obj);
end

function ReminderTipsCtrl:Awake(go)
    self.gameObject = go
    self:_getComponent(go)
    self:language()
    self.luaBehaviour = self.gameObject:GetComponent('LuaBehaviour')
    self.luaBehaviour:AddClick(self.closeBtn.gameObject,self._clickCloseBtn,self)
    self.luaBehaviour:AddClick(self.confimBtn.gameObject,self._clickConfimBtn,self)
end

function ReminderTipsCtrl:Refresh()
    self:initializeUiInfoData()
end
-------------------------------------------------------------获取组件-------------------------------------------------------------------------------
function ReminderTipsCtrl:_getComponent(go)
    self.closeBtn = go.transform:Find("conten/closeBtn")
    self.topName = go.transform:Find("conten/topText"):GetComponent("Text")
    self.contentText = go.transform:Find("conten/contentText"):GetComponent("Text")
    --如果是停业就隐藏显示
    self.tipsText = go.transform:Find("conten/tipsText")
    self.oneText = go.transform:Find("conten/tipsText/oneText"):GetComponent("Text")
    self.secondText = go.transform:Find("conten/tipsText/secondText"):GetComponent("Text")
    self.thirdText = go.transform:Find("conten/tipsText/thirdText"):GetComponent("Text")
    self.fourthText = go.transform:Find("conten/tipsText/fourthText"):GetComponent("Text")
    self.confimBtn = go.transform:Find("conten/confimBtn")
end
-------------------------------------------------------------初始化函数------------------------------------------------------------------------------
function ReminderTipsCtrl:initializeUiInfoData()
    if self.m_data.isbool == true then
        --停业
        self.tipsText.transform.localScale = Vector3.zero
        self.contentText.text = GetLanguage(30010011).."？"
    else
        --拆除
        self.tipsText.transform.localScale = Vector3.one
        self.contentText.text = GetLanguage(30010017).."？"
        self.oneText.text = "1."..GetLanguage(30010012)
        self.secondText.text = "2."..GetLanguage(30010018)
        self.thirdText.text = "3."..GetLanguage(30010019)
        self.fourthText.text = "4."..GetLanguage(30010020)
    end
end
-------------------------------------------------------------点击函数------------------------------------------------------------------------------
--关闭
function ReminderTipsCtrl:_clickCloseBtn()
    PlayMusEff(1002)
    UIPanel.ClosePage()
end
--确认
function ReminderTipsCtrl:_clickConfimBtn(ins)
    if ins.m_data.fun then
        ins.m_data.fun()
    end
end
----------------------------------------------------------------------------------------------------------------------------------------------------
--多语言
function ReminderTipsCtrl:language()
    self.topName.text = GetLanguage(30010006)
end