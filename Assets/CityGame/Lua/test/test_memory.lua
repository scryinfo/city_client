---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by cyz_scry.
--- DateTime: 2018/10/18 16:03
---
local ProFi = require ('test/testFrameWork/memory/ProFi')

local classTest = class('classTest')
local FrameTimer = FrameTimer
UnitTest.Exec("abel_w9_memory_usage", "test_w9_memory_usage",  function ()
    UnitTest.PerformanceTest("abel_w9_memory_usage","[内存用量分析测试]", function()
        ProFi:start()
        for i = 1, 10000 do
            local pIns = classTest:new()
        end
        local xxx = 0
        timer = Timer.New(function()
            log("abel_w9_memory_usage","test_w9_memory_usage test")
            ProFi:stop()
            ProFi:checkMemory( 0.2, 'checkMemory-------------' )
            ProFi:writeReport( 'MyProfilingReport.txt' )
        end, 1, 1)
        timer:Start()
    end)
end)

