---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2019/6/4 10:48
---Promotion of building information
PromoteItem = class('PromoteItem')

function PromoteItem:initialize(dataInfo,prefab,luaBehaviour,isOther)
    self.dataInfo = dataInfo
    self.prefab = prefab

    self.promoteItemBtn = prefab.transform:Find("promoteItemBtn")
    self.promoteText = prefab.transform:Find("promoteItemBtn/promoteText"):GetComponent("Text")
    self.basisProduceRateTextBtn = prefab.transform:Find("basisProduceRateText"):GetComponent("Text")
    self.produceBounusTextBtn = prefab.transform:Find("basisProduceRateText/symbol/produceBounusText"):GetComponent("Text")

    self:language()

    luaBehaviour:AddClick(self.promoteItemBtn.gameObject,self._clickpromoteItemBtn,self)
    luaBehaviour:AddClick(self.basisProduceRateTextBtn.gameObject,self._clickBasisProduceRateTextBtn,self)
    luaBehaviour:AddClick(self.produceBounusTextBtn.gameObject,self._clickProduceBounusTextBtn,self)

    --Whether it is the building owner, if not, all buttons cannot be clicked
    if isOther ~= DataManager.GetMyOwnerID() then
        self.promoteItemBtn:GetComponent("Button").interactable = false
        self.basisProduceRateTextBtn:GetComponent("Button").interactable = false
        self.produceBounusTextBtn:GetComponent("Button").interactable = false
    end
end
--multi-language
function PromoteItem:language()
    self.promoteText.text = --[[GetLanguage(30060001)]]"研究速度"
    self.basisProduceRateTextBtn.text = --[[GetLanguage(30060002)]]"基础研究速度"
    self.produceBounusTextBtn.text = --[[GetLanguage(30060003)]]"研究速度加成"
end
function PromoteItem:_clickpromoteItemBtn(ins)
    local data = {}
    data.buildingType = BuildingType.MaterialFactory
    data.dataInfo = ins.dataInfo.material
    --ct.OpenCtrl("BuildingGoodsTypeCtrl",data)
end
function PromoteItem:_clickBasisProduceRateTextBtn(ins)
    local stringKey = 30060004
    Event.Brocast("openTipBox",stringKey,ins.basisProduceRateTextBtn.transform.localPosition,ins.basisProduceRateTextBtn.transform)
end
function PromoteItem:_clickProduceBounusTextBtn(ins)
    local stringKey = 30060005
    Event.Brocast("openTipBox",stringKey,ins.produceBounusTextBtn.transform.localPosition,ins.produceBounusTextBtn.transform)
end