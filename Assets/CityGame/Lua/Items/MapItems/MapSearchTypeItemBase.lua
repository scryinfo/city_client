---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by xuyafang.
--- DateTime: 2019/2/27 18:13
---小地图搜索类型
MapSearchTypeItemBase = class('MapSearchTypeItemBase')

--初始化方法
function MapSearchTypeItemBase:initialize(data, selectFunc, viewRect)
    self.viewRect = viewRect
    self.data = data
    self.selectFunc = selectFunc

    self.select = self.viewRect.transform:Find("select")
    self.selectIconImg = self.viewRect.transform:Find("select/icon"):GetComponent("Image")
    self.selectShowNameText = self.viewRect.transform:Find("select/showNameText"):GetComponent("Text")
    self.disSelect = self.viewRect.transform:Find("disSelect")
    self.disSelectIconImg = self.viewRect.transform:Find("disSelect/icon"):GetComponent("Image")
    self.greyTypeNameText = self.viewRect.transform:Find("disSelect/greyTypeNameText"):GetComponent("Text")

    self.clickBtn = self.viewRect.transform:Find("clickBtn"):GetComponent("Button")
    self.loadBtnTran = self.viewRect.transform:Find("loadBtn")
    self.clickBtn.onClick:AddListener(function ()
        self:_clickFunc()
    end)
    self.isOpenState = false  --是否是打开状态  --只用于有展开页的typeItem

    --加载图片
    LoadSprite(data.selectIconPath, self.selectIconImg, true)
    LoadSprite(data.disSelectIconPath, self.disSelectIconImg, true)

    Event.AddListener("c_SearchEndLoading", self._endLoading, self)  --结束loading
    self:_addListener()
    self:resetState()
end

--

--重置状态
function MapSearchTypeItemBase:resetState()
    self.isSelect = false
    self.isOpenState = false
    self.select.localScale = Vector3.zero
    self.disSelect.localScale = Vector3.one
    self.loadBtnTran.transform.localScale = Vector3.zero
    self:_language()
end
--多语言
function MapSearchTypeItemBase:_language()
    --正式代码
    --self.selectShowNameText.text = GetLanguage(self.data.languageId)
    --self.greyTypeNameText.text = GetLanguage(self.data.languageId)

    self.selectShowNameText.text = self.data.name
    self.greyTypeNameText.text = self.data.name
end
--loading
function MapSearchTypeItemBase:_endLoading()
    self.loadBtnTran.transform.localScale = Vector3.zero
end

function MapSearchTypeItemBase:getIsSelect()
    return self.isSelect
end

function MapSearchTypeItemBase:getTypeId()
    return self.data.typeId
end

---需要子类重写的方法
--点击事件
function MapSearchTypeItemBase:_clickFunc() end

function MapSearchTypeItemBase:_addListener() end