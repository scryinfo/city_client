---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2019/4/10 14:40
---
PromoteAbilityItem = class('PromoteAbilityItem')
    function PromoteAbilityItem:initialize(prefab)
        self.prefab = prefab;
        self.bg = self.prefab.transform:Find("bg").gameObject:GetComponent("Button");
        self.icon = self.prefab.transform:Find("icon").gameObject:GetComponent("Image");
        self.name = self.prefab.transform:Find("icon/name").gameObject:GetComponent("Text");
        self.speed = self.prefab.transform:Find("center/speed").gameObject:GetComponent("Text");
        --self.down = self.prefab.transform:Find("down").gameObject:GetComponent("Image");
        self.popularity = self.prefab.transform:Find("center/Image/popularity").gameObject:GetComponent("Text");

        self.bg.onClick:AddListener(function()
        self:OnBG(self);
    end)
end

function PromoteAbilityItem:OnBG(go)
    PlayMusEff(1002)
    ct.OpenCtrl("PromoteGoodsExtensionCtrl",self.m_data)
end

function PromoteAbilityItem:InitData(Data,DataInfo)
    self.m_data = {}
    if Data.typeId == 2251 then
        self.m_data.capacity = {}
        self.m_data.capacity[Data.typeId] = Data.capacity
        LoadSprite("Assets/CityGame/Resources/Atlas/PromoteCompany/icon-food.png", self.icon)
        --LoadSprite("Assets/CityGame/Resources/Atlas/PromoteCompany/bg-food.png", self.down)
    elseif Data.typeId == 2252 then
        self.m_data.capacity = {}
        self.m_data.capacity[Data.typeId] = Data.capacity
        LoadSprite("Assets/CityGame/Resources/Atlas/PromoteCompany/icon-clothes.png", self.icon)
        --LoadSprite("Assets/CityGame/Resources/Atlas/PromoteCompany/bg-clothes.png", self.down)
    end
    self.name.text = GetLanguage(Data.name)
    self.m_data.DataInfo = DataInfo
    self.m_data.Data = Data
    self.speed.text ="+".. Data.capacity .. "/h"
    self.popularity.text = GetLanguage(27040009)
end