---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Fisher.
--- DateTime: 2019/5/17 16:06
---加工厂建筑信息
processingFactoryItem = class('processingFactoryItem')

function processingFactoryItem:initialize(dataInfo,prefab,luaBehaviour,isOther)
    self.dataInfo = dataInfo
    self.prefab = prefab

    self.processingIntroduceBtn = prefab.transform:Find("processingIntroduceBtn")
    self.processingText = prefab.transform:Find("processingIntroduceBtn/processingText"):GetComponent("Text")
    self.basicProduceRateTextBtn = prefab.transform:Find("basicProduceRateText"):GetComponent("Text")
    self.produceBounusTextBtn = prefab.transform:Find("basicProduceRateText/symbol/produceBounusText"):GetComponent("Text")
    self.basicQualityTextBtn = prefab.transform:Find("basicQualityText"):GetComponent("Text")
    self.qualityAdditionTextBtn = prefab.transform:Find("basicQualityText/symbol/qualityAdditionText"):GetComponent("Text")
    self.popolarityTextBtn = prefab.transform:Find("popolarityText"):GetComponent("Text")

    self:language()
    luaBehaviour:AddClick(self.processingIntroduceBtn.gameObject,self._clickProcessingIntroduceBtn,self)
    luaBehaviour:AddClick(self.basicProduceRateTextBtn.gameObject,self._clickBasicProduceRateTextBtn,self)
    luaBehaviour:AddClick(self.produceBounusTextBtn.gameObject,self._clickProduceBounusTextBtn,self)
    luaBehaviour:AddClick(self.basicQualityTextBtn.gameObject,self._clickBasicQualityTextBtn,self)
    luaBehaviour:AddClick(self.qualityAdditionTextBtn.gameObject,self._clickQualityAdditionTextBtn,self)
    luaBehaviour:AddClick(self.popolarityTextBtn.gameObject,self._clickPopolarityTextBtn,self)

    --暂时关闭这个点击
    self.processingIntroduceBtn:GetComponent("Button").interactable = false

    --是否是建筑主人，如果不是则所有按钮不能点击
    if isOther ~= DataManager.GetMyOwnerID() then
        self.basicProduceRateTextBtn:GetComponent("Button").interactable = false
        self.produceBounusTextBtn:GetComponent("Button").interactable = false
        self.basicQualityTextBtn:GetComponent("Button").interactable = false
        self.qualityAdditionTextBtn:GetComponent("Button").interactable = false
        self.popolarityTextBtn:GetComponent("Button").interactable = false
    end
end
function processingFactoryItem:language()
    self.processingText.text = GetLanguage(30030001)
    self.basicProduceRateTextBtn.text = GetLanguage(30030002)
    self.produceBounusTextBtn.text = GetLanguage(30030003)
    self.basicQualityTextBtn.text = GetLanguage(30030004)
    self.qualityAdditionTextBtn.text = GetLanguage(30030005)
    self.popolarityTextBtn.text = GetLanguage(30030006)
end
function processingFactoryItem:_clickProcessingIntroduceBtn(ins)
    local data = {}
    data.buildingType = BuildingType.ProcessingFactory
    data.dataInfo = ins.dataInfo.gds
    ct.OpenCtrl("BuildingGoodsTypeCtrl",data)
end
function processingFactoryItem:_clickBasicProduceRateTextBtn(ins)
    local stringKey = 30030007
    Event.Brocast("openTipBox",stringKey,ins.basicProduceRateTextBtn.transform.localPosition,ins.basicProduceRateTextBtn.transform)
end
function processingFactoryItem:_clickProduceBounusTextBtn(ins)
    local stringKey = 30030008
    Event.Brocast("openTipBox",stringKey,ins.produceBounusTextBtn.transform.localPosition,ins.produceBounusTextBtn.transform)
end
function processingFactoryItem:_clickBasicQualityTextBtn(ins)
    local stringKey = 30030009
    Event.Brocast("openTipBox",stringKey,ins.basicQualityTextBtn.transform.localPosition,ins.basicQualityTextBtn.transform)
end
function processingFactoryItem:_clickQualityAdditionTextBtn(ins)
    local stringKey = 30030010
    Event.Brocast("openTipBox",stringKey,ins.qualityAdditionTextBtn.transform.localPosition,ins.qualityAdditionTextBtn.transform)
end
function processingFactoryItem:_clickPopolarityTextBtn(ins)
    local stringKey = 30030011
    Event.Brocast("openTipBox",stringKey,ins.popolarityTextBtn.transform.localPosition,ins.popolarityTextBtn.transform)
end