---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by password.
--- DateTime: 2018/11/2 15:22
---中心仓库
local pbl = pbl
local log = log

CenterWareHouseModel= {};
local this = CenterWareHouseModel;

--构建函数--
function CenterWareHouseModel.New()
    logDebug("CenterWareHouseModel.New--->>");
    return this;
end

function CenterWareHouseModel.Awake()
    logDebug("CenterWareHouseModel.Awake--->>");
    this:OnCreate();
end

--启动事件--
function CenterWareHouseModel.OnCreate()
    --注册本地UI事件
    Event.AddListener("m_extendBag", this.m_ExtendBag,this);
    Event.AddListener("m_bagCapacity",this.m_bagCapacity,this)
    --as网络回调注册
    CityEngineLua.Message:registerNetMsg(pbl.enum("gscode.OpCode","extendBag"),CenterWareHouseModel.n_GsExtendBag);
end

function CenterWareHouseModel:m_bagCapacity(bagCapacity)
    ct.log("rodger_w8_GameMainInterface","[test_m_bagCapacity]  测试完毕",bagCapacity)
     Event.Brocast("c_BagCapacity",bagCapacity)
end

--仓库扩容发包
function CenterWareHouseModel:m_ExtendBag()
    local msgId = pbl.enum("gscode.OpCode","extendBag")
    CityEngineLua.Bundle:newAndSendMsg(msgId,nil);
end

function CenterWareHouseModel:n_GsExtendBag(stream)
    Event.Brocast("c_GsExtendBag")
end
