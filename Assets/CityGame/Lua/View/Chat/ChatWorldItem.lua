---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Tina.
--- DateTime: 2018/12/18 16:57
---

ChatWorldItem = class('ChatWorldItem')
ChatWorldItem.static.NAME_COLOR = "#8EADFF"  -- 名字的颜色
ChatWorldItem.static.MSG_COLOR = "#F0F0F0"  -- 聊天内容的颜色

-- 初始化
function ChatWorldItem:initialize(prefab, data)
    self.prefab = prefab
    self.data = data

    local transform = prefab.transform
    -- 聊天的内容
    self.chatText = transform:Find("ChatText"):GetComponent("Text")
    self.chatText.text = string.format("<color=%s><b>[%s]:</b></color><color=%s>%s</color>",ChatWorldItem.static.NAME_COLOR, data.name, ChatWorldItem.static.MSG_COLOR, data.msg)

    local chatTextPreferredHeight = self.chatText.preferredHeight
    transform.sizeDelta = Vector2.New(490, chatTextPreferredHeight)

    --local chatTextPreferredWidth = self.chatText.preferredWidth
    --if chatTextPreferredWidth > 345 then
    --    local chatTextPreferredHeight = self.chatText.preferredHeight
    --    self.chatText.transform.sizeDelta = Vector2.New(345, chatTextPreferredHeight)
    --else
    --    self.chatText.transform.sizeDelta = Vector2.New(345, 18)
    --end
end